<%# app/views/customer/bookings/index.html.erb %>

<div class="bg-slate-50 min-h-screen">
  <div class="page-wrap py-10">

    <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-6">
      <div>
        <h1 class="text-2xl font-semibold text-slate-900">My bookings</h1>
        <p class="mt-2 text-sm text-slate-600">Your upcoming and past bookings.</p>
      </div>

      <%= link_to "Back home",
          root_path,
          class: "text-sm font-semibold text-blue-700 hover:text-red-600 hover:underline transition" %>
    </div>

    <% if @bookings.present? %>
      <div class="mt-8 space-y-4">
        <% @bookings.each do |b| %>
          <div class="rounded-2xl border border-slate-200 bg-white p-5 shadow-sm flex items-start justify-between gap-6">

            <div class="min-w-0">
              <p class="font-semibold text-slate-900 break-words">
                <%= b.business&.name || "Business" %>
              </p>

              <p class="mt-1 text-sm text-slate-600">
                <%= b.starts_at.present? ? b.starts_at.strftime("%a, %d %b %Y • %H:%M") : "Pick a time" %>
              </p>

              <p class="mt-1 text-xs text-slate-500">
                Status: <%= b.status %>
              </p>
            </div>

            <div class="shrink-0 flex items-center">
              <%= link_to "View",
                  customer_booking_path(b),
                  class: "inline-flex items-center justify-center
                          rounded-full px-5 py-2
                          text-sm font-semibold
                          text-white
                          transition",
                  style: "background:#1e3a8a;"
              %>
            </div>

          </div>
        <% end %>
      </div>
    <% else %>
      <div class="mt-10 rounded-3xl border border-slate-200 bg-white p-8 text-center">
        <p class="font-semibold text-slate-900">No bookings yet</p>
        <p class="mt-2 text-slate-600 text-sm">
          When you book a service, it’ll show here.
        </p>

        <div class="mt-6">
          <%= link_to "Search services",
              search_path,
              class: "inline-flex items-center justify-center rounded-full px-6 py-3 font-semibold text-white",
              style: "background:#2f66ff;" %>
        </div>
      </div>
    <% end %>

  </div>
</div>

<style>
  a[style*="#1e3a8a"]:hover {
    background: #172554 !important;
  }
</style>
