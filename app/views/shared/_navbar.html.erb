<header class="sticky top-0 z-50">
  <div class="backdrop-blur border-b border-white/10"
       style="background: linear-gradient(180deg, rgba(11,31,70,0.92) 0%, rgba(11,31,70,0.70) 100%);">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="h-16 flex items-center justify-between">

        <!-- Brand (logo + name) -->
        <%= link_to root_path,
            class: "flex items-center gap-3 text-white font-bold text-xl tracking-tight hover:opacity-95" do %>

          <%= image_tag "cib-logo.png",
              alt: "ComeInBooked",
              class: "h-13 w-13 sm:h-15 sm:w-15 rounded-full transition-transform duration-150 hover:scale-105" %>

          <span>ComeInBooked</span>
        <% end %>

        <!-- Nav -->
        <nav class="flex items-center gap-3">
          <%= link_to "Search", search_path,
              class: "hidden sm:inline-flex px-4 py-2 rounded-full text-sm font-semibold text-white/90 hover:text-white border border-white/10 hover:border-white/20 bg-white/5 hover:bg-white/10 transition" %>

          <%= link_to "For business", for_business_path,
              class: "hidden sm:inline-flex px-4 py-2 rounded-full text-sm font-semibold text-white/90 hover:text-white border border-white/10 hover:border-white/20 bg-white/5 hover:bg-white/10 transition" %>

          <% if partner_signed_in? %>
            <%= link_to "Dashboard", merchant_root_path,
                class: "inline-flex px-5 py-2.5 rounded-full text-sm font-semibold text-white shadow-sm",
                style: "background:#2f66ff;" %>

            <%= button_to "Sign out", partners_sign_out_path,
                method: :delete,
                form: { class: "inline" },
                class: "inline-flex px-5 py-2.5 rounded-full text-sm font-semibold border border-white/15 text-white/90 hover:text-white bg-white/5 hover:bg-white/10 transition" %>

          <% elsif user_signed_in? %>
            <%= link_to "My bookings", customer_bookings_path,
                class: "inline-flex px-5 py-2.5 rounded-full text-sm font-semibold text-white shadow-sm",
                style: "background:#2f66ff;" %>

            <%= button_to "Sign out", customers_sign_out_path,
                method: :delete,
                form: { class: "inline" },
                class: "inline-flex px-5 py-2.5 rounded-full text-sm font-semibold border border-white/15 text-white/90 hover:text-white bg-white/5 hover:bg-white/10 transition" %>

          <% else %>
            <%= link_to "Log in", user_flow_path,
                class: "inline-flex px-5 py-2.5 rounded-full text-sm font-semibold text-white shadow-sm",
                style: "background:#2f66ff;" %>
          <% end %>
        </nav>

      </div>
    </div>
  </div>
</header>
